spring.application.name=Password Manager

#############################################
# SERVER CONFIG
#############################################
server.port=8080
# Fixed: Use new property name (Spring Boot 3.x+)
spring.web.error.include-message=always

#############################################
# DATABASE - POSTGRESQL
#############################################
spring.datasource.url=jdbc:postgresql://localhost:5432/password_manager
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate / JPA
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

#############################################
# REDIS (for session storage, caching, rate limiting)
#############################################
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.timeout=60000

#############################################
# JWT CONFIGURATION (Custom properties)
#############################################
jwt.secret=CHANGE-THIS-TO-A-STRONG-SECRET-IN-PRODUCTION-USE-AT-LEAST-256-BITS
jwt.expiration-ms=3600000
jwt.refresh-expiration-ms=604800000

#############################################
# CORS CONFIGURATION (Custom properties)
#############################################
app.cors.allowed-origins=http://localhost:4200,http://localhost:3000
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
app.cors.allowed-headers=*
app.cors.allow-credentials=true

#############################################
# FILE UPLOAD
#############################################
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

#############################################
# ACTUATOR (Health checks, metrics)
#############################################
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

#############################################
# LOGGING
#############################################
logging.level.root=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.project.password.manager=DEBUG

#############################################
# SECURITY - Rate Limiting (Custom properties)
#############################################
security.rate-limit.login-attempts=5
security.rate-limit.login-window-minutes=15
security.rate-limit.api-requests-per-hour=100

#############################################
# BREACH DETECTION - Have I Been Pwned API
#############################################
hibp.api.url=https://api.pwnedpasswords.com/range/
hibp.cache.duration-hours=24